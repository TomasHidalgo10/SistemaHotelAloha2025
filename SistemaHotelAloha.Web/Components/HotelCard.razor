@using SistemaHotelAloha.Web.Models
@inject NavigationManager Nav

<div class="hotel-card">
  <div class="hotel-media">
    <img src="@Foto()" loading="lazy" alt="@Hotel.Nombre" />
  </div>
  <div class="hotel-info">
    <div class="hotel-head">
      <h3>@Hotel.Nombre</h3>
      <span class="badge">⭐ @Hotel.Calificacion</span>
    </div>
    <p class="muted">@Hotel.Direccion.Ciudad · @Hotel.DescripcionCorta</p>
    <div class="hotel-foot">
      <div class="price">Desde <b>@Desde().ToString("C")</b> / noche</div>
      <button class="btn primary" @onclick="() => Nav.NavigateTo($"/hotel/{Hotel.Id}")">Ver</button>
    </div>
  </div>
</div>

@code{
    [Parameter] public Hotel Hotel { get; set; } = new();
    string Foto() => Hotel.Fotos.FirstOrDefault()?.Url ?? "/img/ph.png";
    decimal Desde() => Hotel.Habitaciones.Min(h => h.PrecioBasePorNoche);
}
