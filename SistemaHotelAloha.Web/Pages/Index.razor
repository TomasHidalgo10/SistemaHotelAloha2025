@page "/"
@inject NavigationManager Nav

<Hero OnBuscar="Buscar" />
<FeaturedDestinations />

@code {
    void Buscar(SistemaHotelAloha.Web.Services.BusquedaRequest req)
    {
        var q = new List<string>();
        if (!string.IsNullOrWhiteSpace(req.Destino)) q.Add($"destino={Uri.EscapeDataString(req.Destino)}");
        if (req.CheckIn is not null) q.Add($"ci={req.CheckIn}");
        if (req.CheckOut is not null) q.Add($"co={req.CheckOut}");
        q.Add($"ad={req.Adultos}");
        q.Add($"ni={req.Ninos}");
        Nav.NavigateTo("/hoteles?" + string.Join("&", q));
    }
}
